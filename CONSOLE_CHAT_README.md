# 控制台聊天机器人使用指南

## 🚀 快速开始

### 1. 启动聊天机器人服务器

```bash
# 在一个终端窗口中启动服务器
python3 main.py
```

### 2. 启动控制台聊天

```bash
# 在另一个终端窗口中启动控制台聊天
python3 console_chat.py
```

## 💬 控制台聊天功能

### 基本对话
- 直接输入消息即可与机器人对话
- 支持中文和英文
- 实时显示情感分析、人格状态、思维过程等信息

### 可用命令

| 命令 | 功能 | 示例 |
|------|------|------|
| `/help` | 显示帮助信息 | `/help` |
| `/personality <类型>` | 切换人格类型 | `/personality humorous` |
| `/thinking` | 切换思维链显示 | `/thinking` |
| `/userid <ID>` | 设置用户ID | `/userid alice_123` |
| `/reset` | 重置当前会话 | `/reset` |
| `/status` | 查看系统状态 | `/status` |
| `/personalities` | 查看所有人格类型 | `/personalities` |
| `/clear` | 清屏 | `/clear` |
| `/quit` 或 `/exit` | 退出程序 | `/quit` |

### 人格类型

支持8种不同的人格类型：

1. **gentle** - 温柔、耐心、富有同理心
2. **rational** - 理性、逻辑性强
3. **humorous** - 幽默、风趣
4. **outgoing** - 外向、热情
5. **caring** - 关怀、支持性强
6. **creative** - 富有创造力、想象力
7. **analytical** - 分析性强、注重细节
8. **empathetic** - 高度共情、情感智能

## 🎯 使用示例

### 基本对话
```
👤 您: 你好！我今天心情很好
🤖 你好呀！😊 听到你心情很好我也很开心呢！今天有什么特别的事情让你这么愉快吗？

😊 情感: joy (0.85) 😊
🎭 状态: gentle | 情绪: happy | 能量: 0.9
🧠 思维过程:
   1. 用户表达了积极的情绪状态
   2. 应该以同样积极的方式回应
   3. 可以询问具体原因来延续对话
📚 知识库: stored
```

### 切换人格
```
👤 您: /personality humorous
🎭 已切换到 humorous 人格

👤 您: 讲个笑话给我听
🤖 哈哈，好的！为什么程序员总是搞混万圣节和圣诞节？因为 Oct 31 == Dec 25！😄

😊 情感: neutral (0.60) 😄
🎭 状态: humorous | 情绪: playful | 能量: 0.8
```

### 技术问题咨询
```
👤 您: /personality analytical
🎭 已切换到 analytical 人格

👤 您: 如何优化数据库查询性能？
🤖 数据库查询性能优化是一个系统性工程，我来为你详细分析：

1. **索引优化**
   - 为常用查询字段创建合适的索引
   - 避免过多索引影响写入性能
   
2. **查询语句优化**
   - 使用 EXPLAIN 分析执行计划
   - 避免 SELECT *，只查询需要的字段
   
3. **数据库设计优化**
   - 合理的表结构设计
   - 适当的数据类型选择

😊 情感: neutral (0.70) 🤔
🎭 状态: analytical | 情绪: thoughtful | 能量: 0.8
🧠 思维过程:
   1. 用户询问技术问题，需要提供专业分析
   2. 应该从多个角度系统性地回答
   3. 提供具体可操作的建议
```

## 🔧 高级功能

### 会话管理
- 每个用户ID维护独立的会话历史
- 支持会话重置和恢复
- 自动保存对话记录到数据库

### 情感识别
- 实时分析用户情感状态
- 支持9种情感类型识别
- 根据情感调整回复风格

### 思维链显示
- 可选择显示AI的思考过程
- 了解AI如何分析和处理问题
- 增强交互的透明度

### 知识库学习
- 自动学习和存储对话内容
- 基于历史对话提供相关建议
- 支持语义检索和关联

## 🐛 故障排除

### 常见问题

1. **无法连接服务器**
   ```
   ❌ 无法连接到聊天机器人服务器
   请确保服务器正在运行: python3 main.py
   ```
   **解决方案**: 确保在另一个终端窗口中运行了 `python3 main.py`

2. **请求超时**
   ```
   ❌ 请求超时，请稍后重试
   ```
   **解决方案**: 检查网络连接，或者等待服务器处理完成

3. **人格切换失败**
   ```
   ❌ 无效人格类型。可用类型: gentle, rational, humorous...
   ```
   **解决方案**: 使用 `/personalities` 查看可用的人格类型

### 退出程序
- 使用 `/quit` 或 `/exit` 命令
- 或者按 `Ctrl+C` 强制退出

## 💡 使用技巧

1. **个性化体验**: 使用 `/userid` 设置唯一的用户ID，系统会记住你的对话历史
2. **人格实验**: 尝试不同的人格类型，体验不同的对话风格
3. **思维观察**: 开启思维链显示，了解AI的思考过程
4. **命令组合**: 可以在对话中随时使用命令调整设置
5. **会话管理**: 使用 `/reset` 开始新的对话主题

---

🎉 **开始享受与智能聊天机器人的对话吧！** 